(this["webpackJsonpmarta-info"]=this["webpackJsonpmarta-info"]||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=(a(30),a(11)),c=a.n(o),l=(a(34),a(35),a(6)),i=a(4),s=a(21),d=a(1),u=function(){return Object(d.jsx)("div",{className:"container-fluid d-flex p-2 align-items-center",children:Object(d.jsx)("div",{className:"container-sm",children:Object(d.jsxs)("form",{action:"/api/auth/signin",method:"post",children:[Object(d.jsxs)("div",{className:"md-3",children:[Object(d.jsx)("label",{for:"username",className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"username",class:"form-control",id:"username",name:"username"})]}),Object(d.jsxs)("div",{className:"md-3",children:[Object(d.jsx)("label",{for:"password",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",class:"form-control",id:"password",name:"password"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",style:{backgroundColor:"#57574d",color:"white"},className:"btn btn-light",children:"Signin"})]})})})},j=function(e){return Object(d.jsx)("div",{className:"container-fluid d-flex p-2 align-items-center",children:Object(d.jsxs)("div",{className:"container-sm",children:[Object(d.jsx)("h1",{children:"Create an Account"}),Object(d.jsxs)("form",{action:"/api/auth/signup",method:"POST",children:[Object(d.jsxs)("div",{className:"md-3",children:[Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username"})]}),Object(d.jsxs)("div",{className:"md-3",children:[Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"Email Address"}),Object(d.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email"})]}),Object(d.jsxs)("div",{className:"md-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",style:{backgroundColor:"#57574d",color:"white"},className:"btn btn-light",name:"Signup",children:"Submit"})]})]})})},b=function(){var e=Object(i.f)();return Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)("div",{className:"container-sm",children:[Object(d.jsx)("h1",{children:"Welcome to Marta Real Time"}),Object(d.jsx)("h3",{children:"Your source for public transit information in real time for Atlanta, GA"}),Object(d.jsx)("p",{children:"Please note that this is not affiliated with MARTA or itsmarta.com and is offered by a third party with information provided by itsmarta.com. This site was created as a class project and learning exercise."}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("button",{className:"btn-light",style:{backgroundColor:"#393433",color:"white"},onClick:function(){return e.push("signin")},children:"Signin"})}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("button",{className:"btn-light",style:{backgroundColor:"#57504d"},onClick:function(){return e.push("signup")},children:"Create an Account"})}),Object(d.jsx)("br",{})]})})},h=function(){return Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg",style:{color:"white",backgroundColor:"#181716"},children:[Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)(l.b,{className:"navbar-brand",to:"/home",children:"Marta Real Time"}),Object(d.jsx)(l.b,{className:"nav-link",to:"/rail",children:"Rail"}),Object(d.jsx)(l.b,{className:"nav-link",to:"/bus",children:"Bus"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("div",{className:"divider-horizontal"}),Object(d.jsx)("form",{action:"/api/auth/logout",children:Object(d.jsx)("button",{className:"btn-light",style:{backgroundColor:"#393433",color:"white"},type:"submit",children:"logout"})}),Object(d.jsx)("div",{className:"divider-horizontal"})]})},m=a(25),O=a.n(m),g=function(){var e=Object(i.f)(),t=O.a.get();return console.log(t),Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsxs)("div",{className:"container-sm",style:{marginTop:"5rem"},children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("button",{className:"btn-light",style:{backgroundColor:"#393433",color:"white"},onClick:function(){return e.push("bus")},children:Object(d.jsx)("h3",{children:"Real Time Bus Information"})})}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("button",{className:"btn-light",style:{backgroundColor:"#393433",color:"white"},onClick:function(){return e.push("rail")},children:Object(d.jsx)("h3",{children:"Real Time Rail Information"})})})]}),Object(d.jsx)("br",{})]})},x=["1 Marietta Blvd/Joseph E Lowery Blvd","2 Ponce de Leon Avenue / Druid Hills","3 Martin Luther King Jr Dr/Auburn Ave","4 Moreland Avenue","5 Piedmont Road / Sandy Springs","6 Clifton Road / Emory","8 North Druid Hills Road","9 Boulevard / Tilson Road","12 Howell Mill Road / Cumberland","14 14th Street / Blandtown","15 Candler Road","19 Clairmont Road / Howard Avenue","21 Memorial Drive","24 McAfee / Hosea Williams","25 Peachtree Boulevard","26 Marietta Street / Perry Boulevard","27 Cheshire Bridge Road","30 LaVista Road","32 Bouldercrest","34 Gresham Road","36 N Decatur Road / Virginia Highland","37 Defoors Ferry Road","39 Buford Highway","40 Peachtree Street / Downtown","42 Pryor Road","47 I-85 Access Road","49 McDonough Boulevard","50 Donald Lee Hollowell Parkway","51 Joseph E Boone Boulevard","55 Jonesboro Road","58 Hollywood Road / Lucile Avenue","60 Hightower Road","66 Lynhurst Drive / Princeton Lakes","68 Benjamin E Mays Drive","71 Cascade Road","73 Fulton Industrial","74 Flat Shoals Road","75 Lawrenceville Highway","78 Cleveland Avenue","79 Sylvan Hills","81 Venetian Hills / Delowe Drive","82 Camp Creek / South Fulton Parkway","83 Campbellton Road","84 Washington Rd/Camp Crk Marketplace","85 Roswell","86 Fairington Road","87 Roswell Road / Sandy Springs","89 Old National Highway","93 Headland Drive / Main Street","94 Northside Drive","95 Metropolitan Parkway","102 North Avenue / Little Five Points","103 Peeler Road","104 Winters Chapel Road","107 Glenwood","110 Peachtree Road / Buckhead","111 Snapfinger Woods","114 Columbia Drive","115 Covington Highway","116 Redan Road","117 Rockbridge Road / Panola Road","119 Hairston Road / Stone Mtn Village","120 East Ponce De Leon Avenue","121 Memorial Drive / N Hairston Road","123 Church Street","124 Pleasantdale Road","125 Clarkston","126 Embry Hills","132 Tilly Mill Road","133 Shallowford Road","140 North Point Parkway","141 Haynes Bridge Road / Milton","142 East Holcomb Bridge Road","143 Windward Park & Ride","148 Mount Vernon Highway","150 Dunwoody Village","153 James Jackson Parkway","155 Pittsburgh","162 Myrtle Drive / Alison Court","165 Fairburn Road","172 Sylvan Road / Virginia Avenue","178 Empire Blvd / Southside Ind Park","180 Roosevelt Highway","181 Washington Road / Fairburn","183 Greenbriar","185 Alpharetta","186 Rainbow Drive / South DeKalb","188 Oakley Industrial","189 Flat Shoals Road / Scofield Road","191 Riverdale / ATL Intl Terminal","192 Old Dixie / Tara Boulevard","193 Morrow / Jonesboro","194 Conley Road / Mt Zion","195 Forest Parkway","196 Upper Riverdale / Southlake","197 Battle Creek Road","198 Southlake Parkway","221 Memorial Drive Limited","295 Metropolitan Campus Express","800 Lovejoy","809 Monroe Drive / Boulevard","813 Atlanta University Center","816 North Highland Avenue","823 Belvedere","825 Johnson Ferry Road","832 Grant Park","850 Carroll Heights / Fairburn Heights","853 Center Hill","856 Baker Hills / Wilson Mill Meadows","865 Boulder Park Drive","867 Peyton Forest / Dixie Hills","899 Old Fourth Ward"],v=function(){var e=Object(i.f)();return x.map((function(t){var a=t.split(" ")[0];return Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"container-sm",children:Object(d.jsx)("div",{className:"row",style:{paddingTop:"1rem"},children:Object(d.jsx)("button",{className:"btn-light",style:{backgroundColor:"#393433",color:"white"},onClick:function(){return e.push("/bus/".concat(a))},children:t})})})},t)}))},p=["Airport","Arts Center","Ashby","Avondale","Bankhead","Brookhaven / Oglethorpe","Buckhead","Chamblee","Civic Center","College Park","Decatur","GWCC/CNN Center","Doraville","Dunwoody","East Lake","East Point","Edgewood / Candler Park","Five Points","Garnett","Georgia State","Hamilton E. Holmes","Indian Creek","Inman Park / Reynoldstown","Kensington","King Memorial","Lakewood / Ft. McPherson","Lenox","Lindbergh Center","Medical Center","Midtown","North Ave","North Springs","Oakland City","Peachtree Center","Sandy Springs","Vine City","West End","West Lake"],f=function(){var e=Object(i.f)();return p.map((function(t){var a=t.replace("/","");return"GWCCCNN Center"===a&&(a="GWCC CNN Center"),Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"container-sm",children:Object(d.jsx)("div",{className:"row",style:{paddingTop:"1rem"},children:Object(d.jsx)("button",{className:"btn-light",style:{backgroundColor:"#393433",color:"white"},onClick:function(){return e.push("/rail/".concat(a))},children:t})})})},t)}))},y=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"404 - Not Found!"}),Object(d.jsx)(l.b,{to:"/",children:"Go Home"})]})},N=a(15),R=a(5),C="getAllBusStart",w="getAllBusSuccess",A="getAllBusFailure",k="getBusByRouteStart",B="getBusByRouteSuccess",S="getBusByRouteFailure",E="getRailStart",T="getRailSuccess",D="getRailFailure",P={loggedIn:!1,busAll:{loading:!1,error:null,data:null},busByRoute:{loading:!1,error:null,data:null},rail:{loading:!1,error:null,data:null}};var H=Object(N.b)({busAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(R.a)(Object(R.a)({},e.busAll),{},{loading:!0,error:null,data:null});case w:return console.log("successAgain"),Object(R.a)(Object(R.a)({},e.busAll),{},{loading:!1,error:null,data:t.payload});case A:return Object(R.a)(Object(R.a)({},e.busAll),{},{loading:!1,error:t.payload});default:return e}},busByRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(R.a)(Object(R.a)({},e.busByRoute),{},{loading:!0});case B:return Object(R.a)(Object(R.a)({},e.busByRoute),{},{loading:!1,error:null,data:t.payload});case S:return Object(R.a)(Object(R.a)({},e.busByRoute),{},{loading:!1,error:t.payload});default:return e}},rail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(R.a)(Object(R.a)({},e.rail),{},{loading:!0});case T:return Object(R.a)(Object(R.a)({},e.rail),{},{loading:!1,error:null,data:t.payload});case D:return Object(R.a)(Object(R.a)({},e.rail),{},{loading:!1,error:t.payload});default:return e}}}),M=a(26),I=Object(N.c)(H,{busAll:{loading:!1,error:null,data:null},busByRoute:{loading:!1,error:null,data:null},rail:{loading:!1,error:null,data:null}},Object(N.a)(M.a)),L=a(16),F=a(12),W=a.n(F),G=a(28);var V=function(){return function(e){e({type:"getAllBusStart"}),console.log("fetch"),fetch("/api/bus/all").then((function(e){return e.json()})).then((function(t){return e((a=t,console.log("success"),{type:"getAllBusSuccess",payload:Object(R.a)({},a)}));var a})).catch((function(t){return e({type:"getAllBusFailure",payload:{errMsg:t}})}))}},z=function(){return function(e){e({type:"getRailStart"}),fetch("/api/train/all").then((function(e){return e.json()})).then((function(t){return e((a=t,{type:"getRailSuccess",payload:Object(R.a)({},a)}));var a})).catch((function(t){return e({type:"getRailFailure",payload:{errMsg:t.message}})}))}},K=function(e){var t=Object(i.g)().station,a=t.toUpperCase(),n=I.getState(),o=n.rail.data;switch(a=(a=a.replace("  "," ")).replace(".","")){case"BROOKHAVEN OGLETHORPE":a="BROOKHAVEN";break;case"GWCC CNN CENTER":a="OMNI DOME";break;case"INMAN PARK REYNOLDSTOWN":a="INMAN PARK";break;case"LAKEWOOD FT MCPHERSON":a="LAKEWOOD";break;case"LINDBERGH CENTER":a="LINDBERGH";break;default:a=a.toUpperCase()}var c=[],l=function(){var e=Object.keys(o);c=e.filter((function(e){return o[e].STATION==="".concat(a," STATION")}))};return Object(r.useEffect)((function(){var e=setTimeout(Object(G.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.dispatch(z()),e.next=3,setTimeout((function(){return n=I.getState()}),5e3);case 3:(o=n.rail.data)&&l();case 5:case"end":return e.stop()}}),e)}))),6e4);return function(){return clearTimeout(e)}})),o&&l(),Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)("div",{className:"container-sm",style:{textAlign:"center",marginTop:"5rem"},children:[Object(d.jsx)("h1",{style:{backgroundColor:"#57504d",color:"white"},children:t}),c.map((function(e){var t=o[e];return Object(d.jsx)("div",{className:"container-sm",style:{backgroundColor:"#181716",color:"white",marginTop:"2rem"},children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("h3",{children:[Object(d.jsx)("span",{style:{color:t.LINE.toLowerCase()},children:t.DIRECTION})," ",t.DESTINATION," ",t.WAITING_TIME]})})},e)}))]})})},J=function(e){var t=Object(i.g)().route,a=[];Object(r.useEffect)((function(){var t=setTimeout((function(){e.getBusAll()}),6e4);return function(){return clearTimeout(t)}}));return e.busData&&function(){var r=Object.keys(e.busData);a=r.filter((function(a){return e.busData[a].ROUTE==="".concat(t)}))}(),Object(d.jsx)("div",{className:"container-fluid",style:{textAlign:"center",marginTop:"5rem"},children:Object(d.jsxs)("div",{className:"container-sm",children:[Object(d.jsxs)("h1",{style:{color:"white",backgroundColor:"#57504d"},children:["Route ",t," "]}),a.map((function(a){var r,n=e.busData[a],o="/bus/".concat(t,"/").concat(n.VEHICLE);return Object(d.jsx)("div",{className:"container-sm",style:{marginTop:"2rem",color:"white",backgroundColor:"#181716"},children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:Object(d.jsx)(l.b,{to:o,children:n.VEHICLE})}),Object(d.jsx)("h3",{children:n.DIRECTION})," ",Object(d.jsx)("h3",{children:n.TIMEPOINT})," ",Object(d.jsx)("h3",{children:(r=n.ADHERENCE,0===parseInt(r)?"On Schedule":r>0?"".concat(r,"min Ahead of Schedule"):"".concat(0-r,"min Behind Schedule"))})]})},a)}))]})})};var U=Object(L.b)((function(e){return{busData:e.busAll.data}}),(function(e){return{getBusAll:function(){return e(V())}}}))(J),Y=a(17),Z=function(e){return Object(d.jsx)(Y.b,{googleMapsApiKey:"AIzaSyBAtGYZEH7X_Ezlolefmx45V40l5eermV0",children:Object(d.jsx)(Y.a,{mapContainerStyle:{width:"400px",height:"400px"},center:e.center,zoom:15,children:Object(d.jsx)(Y.c,{position:e.position})})})},_=function(e){var t=Object(i.g)().bus,a=I.getState(),n=a.busAll.data,o=[],c=function(){return Object.keys(n).filter((function(e){return n[e].VEHICLE==="".concat(t)}))};n&&(o=c(),console.log(o)),Object(r.useEffect)((function(){var e=setTimeout((function(){for(I.dispatch(V()),a=I.getState(),n=a.busAll.data;!n;)n=a.busAll.data;n&&(o=c(),console.log(o))}),3e4);return function(){return clearTimeout(e)}}));return o.map((function(e){var t,a;return t={lat:Number(n[e].LATITUDE),lng:Number(n[e].LONGITUDE)},console.log(t),Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"container-sm",style:{marginTop:"2rem",color:"white",backgroundColor:"#181716"},children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col",children:[Object(d.jsx)("h3",{children:n[e].VEHICLE}),Object(d.jsx)("h3",{children:n[e].DIRECTION})," ",Object(d.jsx)("h3",{children:n[e].TIMEPOINT})," ",Object(d.jsx)("h3",{children:(a=n[e].ADHERENCE,0===parseInt(a)?"On Schedule":a>0?"".concat(a,"min Ahead of Schedule"):"".concat(0-a,"min Behind Schedule"))})]}),Object(d.jsx)("div",{className:"col",children:t&&Object(d.jsx)(Z,{position:t,center:t})})]})})},1)}))};I.dispatch(z()),I.dispatch(V());var X=function(){return Object(d.jsxs)(L.a,{store:I,children:[Object(d.jsx)(s.a,{bodyAttributes:{style:"background-color : #2a2727; color: white"}}),Object(d.jsx)(l.a,{children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{exact:!0,path:"/",children:Object(d.jsx)(b,{})}),Object(d.jsx)(i.a,{exact:!0,path:"/signin",children:Object(d.jsx)(u,{})}),Object(d.jsx)(i.a,{exact:!0,path:"/signup",children:Object(d.jsx)(j,{})}),Object(d.jsxs)(i.a,{exact:!0,path:"/home",children:[Object(d.jsx)(h,{}),Object(d.jsx)(g,{})]}),Object(d.jsxs)(i.a,{exact:!0,path:"/bus",children:[Object(d.jsx)(h,{}),Object(d.jsx)(v,{})]}),Object(d.jsxs)(i.a,{exact:!0,path:"/rail",children:[Object(d.jsx)(h,{}),Object(d.jsx)(f,{})]}),Object(d.jsxs)(i.a,{exact:!0,path:"/rail/:station",children:[Object(d.jsx)(h,{}),Object(d.jsx)(K,{})]}),Object(d.jsxs)(i.a,{exact:!0,path:"/bus/:route",children:[Object(d.jsx)(h,{}),Object(d.jsx)(U,{})]}),Object(d.jsxs)(i.a,{exact:!0,path:"/bus/:route/:bus",children:[Object(d.jsx)(h,{}),Object(d.jsx)(_,{})]}),Object(d.jsx)(i.a,{component:y})]})})]})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),o(e),c(e)}))};window.store=I,window.getBusAll=V,window.getBusByRoute=function(e){return function(t){t({type:"getBusByRouteStart"}),fetch("/api/bus/".concat(e)).then((function(e){return e.json()})).then((function(e){return t((a=e,{type:"getBusByRouteSuccess",payload:Object(R.a)({},a)}));var a})).catch((function(e){return t({type:"getBusByRouteFailure",payload:{errMsg:e}})}))}},window.getRail=z,c.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root")),q()}},[[46,1,2]]]);
//# sourceMappingURL=main.9b81680a.chunk.js.map